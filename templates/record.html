{% extends "layout.html" %} {% block content %}
<h2>Record Table</h2>

<div class="container">
    <div class="row" style="padding-bottom: 10px; padding-top: 20px">
        <div class="col-2"><b>Email</b></div>
        <div class="col-2"><b>Country</b></div>
        <div class="col-2"><b>Disease Code</b></div>
        <div class="col-2"><b>Total Deaths</b></div>
        <div class="col-2"><b>Total Patients</b></div>

        <div class="col-1"></div>
        <div class="col-1"></div>
    </div>
    <form action="/record" method="post">
        <div class="row" style="padding-bottom: 2px">
            <div class="col-2">
                <input type="text" name="email" value="" style="box-sizing: border-box; width: 100%"/>
            </div>

            <div class="col-2">
                <input type="text" name="cname" value="" style="box-sizing: border-box; width: 100%"/>
            </div>

            <div class="col-2">
                <input type="text" name="disease_code" value="" style="box-sizing: border-box; width: 100%"/>
            </div>

            <div class="col-2">
                <input type="text" name="total_deaths" value="" style="box-sizing: border-box; width: 100%"/>
            </div>

            <div class="col-2">
                <input type="text" name="total_patients" value="" style="box-sizing: border-box; width: 100%"/>
            </div>

            <div class="col-2">
                <button
                    type="submit"
                    class="btn btn-outline-success btn-block"
                    value="insert"
                    name="action"
                >
                    Insert
                </button>
            </div>
        </div>
    </form>
    {% for row in rows %}
    <form action="/record" method="post">
        <div class="row" style="padding-bottom: 2px">
            <div class="col-2">
                <input type="hidden" name="oldRow" value="{{row}}" />
                <input type="text" name="email" value="{{row['email']}}" style="box-sizing: border-box; width: 100%"/>
            </div>

            <div class="col-2">
                <input
                    type="text"
                    name="cname"
                    value="{{row['cname']}}"
                    style="box-sizing: border-box; width: 100%"
                />
            </div>

            <div class="col-2">
                <input
                    type="text"
                    name="disease_code"
                    value="{{row['disease_code']}}"
                    style="box-sizing: border-box; width: 100%"
                />
            </div>

            <div class="col-2">
                <input
                    type="text"
                    name="total_deaths"
                    value="{{row['total_deaths']}}"
                    style="box-sizing: border-box; width: 100%"
                />
            </div>

            <div class="col-2">
                <input
                    type="text"
                    name="total_patients"
                    value="{{row['total_patients']}}"
                    style="box-sizing: border-box; width: 100%"
                />
            </div>

            <div class="col-1" style="padding-right: 10px">
                <button
                    type="submit"
                    class="btn btn-outline-primary btn-block"
                    value="edit"
                    name="action"
                >
                    Edit
                </button>
            </div>

            <div class="col-1" style="padding-left: 5px">
                <button
                    type="submit"
                    class="btn btn-outline-danger"
                    
                    value="delete"
                    name="action"
                >
                    Delete
                </button>
            </div>
        </div>
    </form>
    {% endfor %}
</div>

{% endblock content %}
